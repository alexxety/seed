# –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –Ω–∞ TypeScript + React Stack

## üìã –û–±–∑–æ—Ä –∑–∞–¥–∞—á–∏

**–¶–µ–ª—å:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –º–∏–≥—Ä–∏—Ä–æ–≤–∞–≤ —Å –æ—Ç–¥–µ–ª—å–Ω—ã—Ö HTML —Å—Ç—Ä–∞–Ω–∏—Ü –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –û—Ç–¥–µ–ª—å–Ω—ã–µ HTML —Ñ–∞–π–ª—ã –≤ `public/`
- Vanilla JavaScript
- –ò–Ω–ª–∞–π–Ω–æ–≤—ã–π CSS
- –†—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏
- –†—É—á–Ω—ã–µ fetch –∑–∞–ø—Ä–æ—Å—ã

**–¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- TypeScript —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π
- TanStack Router –¥–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞
- TanStack Query –¥–ª—è API
- React Hook Form + Zod –¥–ª—è —Ñ–æ—Ä–º
- Zustand –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (auth)
- Tailwind CSS –¥–ª—è —Å—Ç–∏–ª–µ–π
- –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã —Å middleware

---

## üéØ –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–¥–º–∏–Ω–∫–∏

```
public/
‚îú‚îÄ‚îÄ login.html          # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ (270 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ admin.html          # –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ (565 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ products.html       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ (752 —Å—Ç—Ä–æ–∫)
‚îî‚îÄ‚îÄ categories.html     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ (666 —Å—Ç—Ä–æ–∫)
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–æ–∫–µ–Ω–∞
- –¢–∞–π–º–µ—Ä —Å–µ—Å—Å–∏–∏ (1 —á–∞—Å)
- –ê–≤—Ç–æ–≤—ã—Ö–æ–¥ –ø–æ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- CRUD –¥–ª—è –∑–∞–∫–∞–∑–æ–≤ (–ø—Ä–æ—Å–º–æ—Ç—Ä)
- CRUD –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
- CRUD –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üéØ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îú‚îÄ‚îÄ admin/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store.ts              # Zustand store –¥–ª—è auth
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts                # TanStack Query hooks
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware.ts         # Protected route middleware
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts                # TanStack Query hooks
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrdersTable.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ OrderStats.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts                # CRUD hooks
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductCard.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductModal.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProductForm.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ categories/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ api.ts                # CRUD hooks
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ types.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ CategoryCard.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ CategoryModal.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ EmojiPicker.tsx
‚îÇ   ‚îÇ
‚îú‚îÄ‚îÄ app/routes/
‚îÇ   ‚îú‚îÄ‚îÄ admin/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx              # Admin layout —Å auth middleware
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.tsx                # /admin/login
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx                # /admin - –∑–∞–∫–∞–∑—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products.tsx             # /admin/products
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ categories.tsx           # /admin/categories
‚îÇ   ‚îÇ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ admin/
‚îÇ       ‚îú‚îÄ‚îÄ AdminNav.tsx             # –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ SessionTimer.tsx         # –¢–∞–π–º–µ—Ä —Å–µ—Å—Å–∏–∏
‚îÇ       ‚îî‚îÄ‚îÄ ProtectedRoute.tsx       # HOC –¥–ª—è –∑–∞—â–∏—Ç—ã —Ä–æ—É—Ç–æ–≤
‚îÇ
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ auth.ts                      # JWT utilities
```

---

## üìù –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
cd /home/user/seed

# –§–æ—Ä–º—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
npm install react-hook-form zod @hookform/resolvers

# –î–∞—Ç—ã (–¥–ª—è —Ç–∞–π–º–µ—Ä–∞ —Å–µ—Å—Å–∏–∏)
npm install date-fns
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –í—Å–µ –ø–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ package.json –æ–±–Ω–æ–≤–ª–µ–Ω

---

### –®–∞–≥ 2: TypeScript —Ç–∏–ø—ã –¥–ª—è –∞–¥–º–∏–Ω–∫–∏

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/types/admin.ts`

```typescript
// Auth types
export interface LoginCredentials {
  username: string
  password: string
}

export interface LoginResponse {
  success: boolean
  token: string
  expiresIn: number
}

export interface AuthUser {
  username: string
  role: 'admin'
}

// Order types
export interface AdminOrder {
  id: number
  orderNumber: string
  fullName: string
  phone: string
  deliveryType: 'address' | 'cdek'
  deliveryDetails: string
  items: Array<{
    name: string
    quantity: number
    price: number
  }>
  total: number
  telegramUsername?: string
  telegramId?: number
  telegramFirstName?: string
  telegramLastName?: string
  createdAt: string
  status: string
}

export interface OrdersResponse {
  success: boolean
  count: number
  orders: AdminOrder[]
}

// Product types (–¥–ª—è –∞–¥–º–∏–Ω–∫–∏)
export interface AdminProduct {
  id: number
  name: string
  price: number
  category_id: number
  image: string
  description: string
  is_active: number
  category_name?: string
  category_icon?: string
}

export interface ProductFormData {
  name: string
  category_id: number
  price: number
  image: string
  description: string
}

// Category types
export interface AdminCategory {
  id: number
  name: string
  icon: string
  created_at?: string
}

export interface CategoryFormData {
  name: string
  icon: string
}
```

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/types/index.ts` (–æ–±–Ω–æ–≤–∏—Ç—å)

```typescript
export * from './product'
export * from './category'
export * from './order'
export * from './admin'  // –î–æ–±–∞–≤–∏—Ç—å —ç—Ç—É —Å—Ç—Ä–æ–∫—É
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –¢–∏–ø—ã —Å–æ–∑–¥–∞–Ω—ã

---

### –®–∞–≥ 3: Zustand Store –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/features/admin/auth/store.ts`

```typescript
import { create } from 'zustand'
import { persist } from 'zustand/middleware'

interface AuthState {
  token: string | null
  tokenExpiry: number | null
  user: { username: string; role: string } | null
  isAuthenticated: boolean

  setAuth: (token: string, expiresIn: number, user: { username: string; role: string }) => void
  clearAuth: () => void
  checkExpiry: () => boolean
}

export const useAuthStore = create<AuthState>()(
  persist(
    (set, get) => ({
      token: null,
      tokenExpiry: null,
      user: null,
      isAuthenticated: false,

      setAuth: (token, expiresIn, user) => {
        const tokenExpiry = Date.now() + expiresIn * 1000
        set({
          token,
          tokenExpiry,
          user,
          isAuthenticated: true,
        })
      },

      clearAuth: () => {
        set({
          token: null,
          tokenExpiry: null,
          user: null,
          isAuthenticated: false,
        })
      },

      checkExpiry: () => {
        const { tokenExpiry } = get()
        if (!tokenExpiry || Date.now() >= tokenExpiry) {
          get().clearAuth()
          return false
        }
        return true
      },
    }),
    {
      name: 'admin-auth-storage',
    }
  )
)
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ Auth store —Å–æ–∑–¥–∞–Ω

---

### –®–∞–≥ 4: API —Å–ª–æ–π –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ (TanStack Query)

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/features/admin/auth/api.ts`

```typescript
import { useMutation, useQuery } from '@tanstack/react-query'
import { apiClient } from '@/lib/api-client'
import type { LoginCredentials, LoginResponse, AuthUser } from '@/types/admin'
import { useAuthStore } from './store'

export function useLogin() {
  const setAuth = useAuthStore((state) => state.setAuth)

  return useMutation({
    mutationFn: async (credentials: LoginCredentials) => {
      return apiClient<LoginResponse>('/api/admin/login', {
        method: 'POST',
        body: JSON.stringify(credentials),
      })
    },
    onSuccess: (data) => {
      setAuth(data.token, data.expiresIn, { username: 'admin', role: 'admin' })
    },
  })
}

export function useVerifyToken() {
  const token = useAuthStore((state) => state.token)
  const clearAuth = useAuthStore((state) => state.clearAuth)

  return useQuery({
    queryKey: ['verify-token'],
    queryFn: async () => {
      if (!token) throw new Error('No token')

      return apiClient<{ success: boolean; user: AuthUser }>('/api/admin/verify', {
        headers: {
          Authorization: `Bearer ${token}`,
        },
      })
    },
    enabled: !!token,
    retry: false,
    onError: () => {
      clearAuth()
    },
  })
}

export function useLogout() {
  const token = useAuthStore((state) => state.token)
  const clearAuth = useAuthStore((state) => state.clearAuth)

  return useMutation({
    mutationFn: async () => {
      if (!token) return

      await apiClient('/api/admin/logout', {
        method: 'POST',
        headers: {
          Authorization: `Bearer ${token}`,
        },
      })
    },
    onSettled: () => {
      clearAuth()
    },
  })
}
```

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/features/admin/orders/api.ts`

```typescript
import { useQuery } from '@tanstack/react-query'
import { apiClient } from '@/lib/api-client'
import type { OrdersResponse } from '@/types/admin'
import { useAuthStore } from '../auth/store'

export function useOrders(limit = 100) {
  const token = useAuthStore((state) => state.token)

  return useQuery({
    queryKey: ['admin-orders', limit],
    queryFn: async () => {
      if (!token) throw new Error('Not authenticated')

      return apiClient<OrdersResponse>(`/api/orders?limit=${limit}`, {
        headers: {
          Authorization: `Bearer ${token}`,
        },
      })
    },
    enabled: !!token,
    refetchInterval: 30000, // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
  })
}
```

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/features/admin/products/api.ts`

```typescript
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'
import { apiClient } from '@/lib/api-client'
import type { AdminProduct, ProductFormData } from '@/types/admin'
import { useAuthStore } from '../auth/store'

export function useAdminProducts() {
  return useQuery({
    queryKey: ['admin-products'],
    queryFn: async () => {
      const data = await apiClient<{ success: boolean; products: AdminProduct[] }>('/api/products')
      return data.products
    },
  })
}

export function useCreateProduct() {
  const token = useAuthStore((state) => state.token)
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: async (product: ProductFormData) => {
      return apiClient('/api/admin/products', {
        method: 'POST',
        headers: {
          Authorization: `Bearer ${token}`,
        },
        body: JSON.stringify(product),
      })
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['admin-products'] })
      queryClient.invalidateQueries({ queryKey: ['products'] }) // –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫—ç—à
    },
  })
}

export function useUpdateProduct() {
  const token = useAuthStore((state) => state.token)
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: async ({ id, product }: { id: number; product: ProductFormData }) => {
      return apiClient(`/api/admin/products/${id}`, {
        method: 'PUT',
        headers: {
          Authorization: `Bearer ${token}`,
        },
        body: JSON.stringify(product),
      })
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['admin-products'] })
      queryClient.invalidateQueries({ queryKey: ['products'] })
    },
  })
}

export function useDeleteProduct() {
  const token = useAuthStore((state) => state.token)
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: async (id: number) => {
      return apiClient(`/api/admin/products/${id}`, {
        method: 'DELETE',
        headers: {
          Authorization: `Bearer ${token}`,
        },
      })
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['admin-products'] })
      queryClient.invalidateQueries({ queryKey: ['products'] })
    },
  })
}
```

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/features/admin/categories/api.ts`

```typescript
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'
import { apiClient } from '@/lib/api-client'
import type { AdminCategory, CategoryFormData } from '@/types/admin'
import { useAuthStore } from '../auth/store'

export function useAdminCategories() {
  return useQuery({
    queryKey: ['admin-categories'],
    queryFn: async () => {
      const data = await apiClient<{ success: boolean; categories: AdminCategory[] }>('/api/categories')
      return data.categories
    },
  })
}

export function useCreateCategory() {
  const token = useAuthStore((state) => state.token)
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: async (category: CategoryFormData) => {
      return apiClient('/api/admin/categories', {
        method: 'POST',
        headers: {
          Authorization: `Bearer ${token}`,
        },
        body: JSON.stringify(category),
      })
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['admin-categories'] })
      queryClient.invalidateQueries({ queryKey: ['categories'] })
    },
  })
}

export function useUpdateCategory() {
  const token = useAuthStore((state) => state.token)
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: async ({ id, category }: { id: number; category: CategoryFormData }) => {
      return apiClient(`/api/admin/categories/${id}`, {
        method: 'PUT',
        headers: {
          Authorization: `Bearer ${token}`,
        },
        body: JSON.stringify(category),
      })
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['admin-categories'] })
      queryClient.invalidateQueries({ queryKey: ['categories'] })
    },
  })
}

export function useDeleteCategory() {
  const token = useAuthStore((state) => state.token)
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: async (id: number) => {
      return apiClient(`/api/admin/categories/${id}`, {
        method: 'DELETE',
        headers: {
          Authorization: `Bearer ${token}`,
        },
      })
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['admin-categories'] })
      queryClient.invalidateQueries({ queryKey: ['categories'] })
    },
  })
}
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –í—Å–µ API —Å–ª–æ–∏ —Å–æ–∑–¥–∞–Ω—ã

---

### –®–∞–≥ 5: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–º–∏–Ω–∫–∏

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/components/admin/SessionTimer.tsx`

```typescript
import { useEffect, useState } from 'react'
import { useAuthStore } from '@/features/admin/auth/store'
import { useLogout } from '@/features/admin/auth/api'

export function SessionTimer() {
  const tokenExpiry = useAuthStore((state) => state.tokenExpiry)
  const [timeLeft, setTimeLeft] = useState<string>('')
  const logout = useLogout()

  useEffect(() => {
    if (!tokenExpiry) return

    const interval = setInterval(() => {
      const remaining = tokenExpiry - Date.now()

      if (remaining <= 0) {
        logout.mutate()
        return
      }

      const minutes = Math.floor(remaining / 60000)
      const seconds = Math.floor((remaining % 60000) / 1000)
      setTimeLeft(`${minutes}:${seconds.toString().padStart(2, '0')}`)
    }, 1000)

    return () => clearInterval(interval)
  }, [tokenExpiry, logout])

  if (!timeLeft) return null

  return (
    <div className="text-sm text-gray-600">
      ‚è± –ê–≤—Ç–æ–≤—ã—Ö–æ–¥ —á–µ—Ä–µ–∑: {timeLeft}
    </div>
  )
}
```

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/components/admin/AdminNav.tsx`

```typescript
import { Link, useRouterState } from '@tanstack/react-router'
import { cn } from '@/lib/utils'

const navItems = [
  { to: '/admin', label: 'üìã –ó–∞–∫–∞–∑—ã' },
  { to: '/admin/products', label: 'üì¶ –¢–æ–≤–∞—Ä—ã' },
  { to: '/admin/categories', label: 'üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏' },
]

export function AdminNav() {
  const router = useRouterState()
  const currentPath = router.location.pathname

  return (
    <nav className="bg-white rounded-xl p-3 shadow-sm mb-6">
      <div className="flex gap-3">
        {navItems.map((item) => (
          <Link
            key={item.to}
            to={item.to}
            className={cn(
              'flex-1 py-3 px-5 rounded-lg font-semibold text-center transition-colors',
              currentPath === item.to
                ? 'bg-blue-500 text-white'
                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
            )}
          >
            {item.label}
          </Link>
        ))}
      </div>
    </nav>
  )
}
```

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/features/admin/orders/OrderStats.tsx`

```typescript
import type { AdminOrder } from '@/types/admin'

interface OrderStatsProps {
  orders: AdminOrder[]
}

export function OrderStats({ orders }: OrderStatsProps) {
  const totalOrders = orders.length
  const totalRevenue = orders.reduce((sum, order) => sum + order.total, 0)
  const averageOrder = totalOrders > 0 ? Math.round(totalRevenue / totalOrders) : 0

  const stats = [
    { label: '–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤', value: totalOrders },
    { label: '–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞', value: `${totalRevenue.toLocaleString('ru-RU')} ‚ÇΩ` },
    { label: '–°—Ä–µ–¥–Ω–∏–π —á–µ–∫', value: `${averageOrder.toLocaleString('ru-RU')} ‚ÇΩ` },
  ]

  return (
    <div className="grid grid-cols-1 md:grid-cols-3 gap-5 mb-6">
      {stats.map((stat) => (
        <div key={stat.label} className="bg-white rounded-xl p-6 shadow-sm">
          <div className="text-sm text-gray-600 mb-2">{stat.label}</div>
          <div className="text-3xl font-bold text-blue-500">{stat.value}</div>
        </div>
      ))}
    </div>
  )
}
```

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/features/admin/categories/EmojiPicker.tsx`

```typescript
import { cn } from '@/lib/utils'

const EMOJIS = [
  'üå±', 'üåø', 'üçÉ', 'üåæ', 'üå≤', 'üå≥', 'üå¥', 'üåµ',
  'üå∑', 'üå∏', 'üå∫', 'üåª', 'üåº', 'üåΩ', 'üçÄ', 'üçÅ',
  'üçÇ', 'üçÑ', 'üéã', 'üéç', 'üíê', 'üåπ', 'ü•Ä', 'üèµÔ∏è',
  'üåè', 'üåç', 'üåé', 'ü™¥',
]

interface EmojiPickerProps {
  selected: string
  onSelect: (emoji: string) => void
}

export function EmojiPicker({ selected, onSelect }: EmojiPickerProps) {
  return (
    <div className="grid grid-cols-8 gap-2 p-3 bg-gray-50 rounded-lg max-h-52 overflow-y-auto">
      {EMOJIS.map((emoji) => (
        <button
          key={emoji}
          type="button"
          onClick={() => onSelect(emoji)}
          className={cn(
            'text-2xl p-2 rounded-lg border-2 transition-all hover:scale-110',
            selected === emoji
              ? 'border-blue-500 bg-blue-50'
              : 'border-transparent bg-white hover:border-blue-500'
          )}
        >
          {emoji}
        </button>
      ))}
    </div>
  )
}
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã

---

### –®–∞–≥ 6: –†–æ—É—Ç–∏–Ω–≥ - Admin Layout

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/app/routes/admin/_layout.tsx`

```typescript
import { createFileRoute, Outlet, redirect, useNavigate } from '@tanstack/react-router'
import { useEffect } from 'react'
import { useAuthStore } from '@/features/admin/auth/store'
import { useLogout } from '@/features/admin/auth/api'
import { AdminNav } from '@/components/admin/AdminNav'
import { SessionTimer } from '@/components/admin/SessionTimer'
import { Button } from '@/components/ui/button'

export const Route = createFileRoute('/admin/_layout')({
  beforeLoad: ({ location }) => {
    const { isAuthenticated, checkExpiry } = useAuthStore.getState()

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å—Ç–µ—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
    const isValid = checkExpiry()

    if (!isAuthenticated || !isValid) {
      throw redirect({
        to: '/admin/login',
        search: {
          redirect: location.href,
        },
      })
    }
  },
  component: AdminLayout,
})

function AdminLayout() {
  const navigate = useNavigate()
  const logout = useLogout()
  const checkExpiry = useAuthStore((state) => state.checkExpiry)

  // –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
  useEffect(() => {
    const interval = setInterval(() => {
      if (!checkExpiry()) {
        navigate({ to: '/admin/login' })
      }
    }, 5000) // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

    return () => clearInterval(interval)
  }, [checkExpiry, navigate])

  // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –∞–≤—Ç–æ–≤—ã—Ö–æ–¥–∞
  useEffect(() => {
    let inactivityTimer: NodeJS.Timeout

    const resetTimer = () => {
      clearTimeout(inactivityTimer)
      inactivityTimer = setTimeout(() => {
        alert('–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞ –∏–∑-–∑–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏')
        logout.mutate()
      }, 60 * 60 * 1000) // 1 —á–∞—Å
    }

    const events = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart', 'click']
    events.forEach((event) => {
      document.addEventListener(event, resetTimer, true)
    })

    resetTimer()

    return () => {
      clearTimeout(inactivityTimer)
      events.forEach((event) => {
        document.removeEventListener(event, resetTimer, true)
      })
    }
  }, [logout])

  const handleLogout = () => {
    logout.mutate()
  }

  return (
    <div className="min-h-screen bg-gray-50 p-5">
      <div className="max-w-7xl mx-auto">
        {/* Header */}
        <div className="flex justify-between items-center mb-6">
          <div>
            <h1 className="text-3xl font-bold text-gray-900">üõí –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
            <SessionTimer />
          </div>
          <Button onClick={handleLogout} variant="outline" className="text-red-600">
            üö™ –í—ã—Ö–æ–¥
          </Button>
        </div>

        {/* Navigation */}
        <AdminNav />

        {/* Content */}
        <Outlet />
      </div>
    </div>
  )
}
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ Admin layout —Å–æ–∑–¥–∞–Ω

---

### –®–∞–≥ 7: –†–æ—É—Ç - Login

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/app/routes/admin/login.tsx`

```typescript
import { createFileRoute, useNavigate } from '@tanstack/react-router'
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import { z } from 'zod'
import { useLogin } from '@/features/admin/auth/api'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'
import { Card } from '@/components/ui/card'

const loginSchema = z.object({
  username: z.string().min(1, '–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω'),
  password: z.string().min(1, '–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å'),
})

type LoginForm = z.infer<typeof loginSchema>

export const Route = createFileRoute('/admin/login')({
  component: LoginPage,
})

function LoginPage() {
  const navigate = useNavigate()
  const login = useLogin()

  const {
    register,
    handleSubmit,
    formState: { errors },
  } = useForm<LoginForm>({
    resolver: zodResolver(loginSchema),
  })

  const onSubmit = async (data: LoginForm) => {
    try {
      await login.mutateAsync(data)
      navigate({ to: '/admin' })
    } catch (error) {
      // –û—à–∏–±–∫–∞ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –≤ mutation
    }
  }

  return (
    <div className="min-h-screen flex items-center justify-center p-5 bg-gradient-to-br from-purple-600 to-blue-600">
      <Card className="w-full max-w-md p-8">
        <div className="text-center mb-8">
          <h1 className="text-3xl font-bold mb-2">üõí –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
          <p className="text-gray-600">–ú–∞–≥–∞–∑–∏–Ω —Å–µ–º—è–Ω</p>
        </div>

        {login.isError && (
          <div className="mb-5 p-3 bg-red-50 text-red-700 rounded-lg text-sm">
            {login.error?.message || '–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏'}
          </div>
        )}

        <form onSubmit={handleSubmit(onSubmit)} className="space-y-5">
          <div>
            <label className="block text-sm font-semibold mb-2">–õ–æ–≥–∏–Ω</label>
            <Input
              {...register('username')}
              type="text"
              autoComplete="username"
              className={errors.username ? 'border-red-500' : ''}
            />
            {errors.username && (
              <p className="text-red-500 text-sm mt-1">{errors.username.message}</p>
            )}
          </div>

          <div>
            <label className="block text-sm font-semibold mb-2">–ü–∞—Ä–æ–ª—å</label>
            <Input
              {...register('password')}
              type="password"
              autoComplete="current-password"
              className={errors.password ? 'border-red-500' : ''}
            />
            {errors.password && (
              <p className="text-red-500 text-sm mt-1">{errors.password.message}</p>
            )}
          </div>

          <Button type="submit" className="w-full" disabled={login.isPending}>
            {login.isPending ? '–í—Ö–æ–¥...' : '–í–æ–π—Ç–∏'}
          </Button>
        </form>

        <div className="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-700">
          <h3 className="font-semibold mb-2">üîí –ó–∞—â–∏—Ç–∞ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º 2025:</h3>
          <ul className="space-y-1">
            <li className="flex items-start">
              <span className="text-green-500 mr-2">‚úì</span>
              JWT —Ç–æ–∫–µ–Ω—ã —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º
            </li>
            <li className="flex items-start">
              <span className="text-green-500 mr-2">‚úì</span>
              Bcrypt —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
            </li>
            <li className="flex items-start">
              <span className="text-green-500 mr-2">‚úì</span>
              Rate limiting (–∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞)
            </li>
            <li className="flex items-start">
              <span className="text-green-500 mr-2">‚úì</span>
              –ê–≤—Ç–æ–≤—ã—Ö–æ–¥ —á–µ—Ä–µ–∑ 1 —á–∞—Å –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
            </li>
          </ul>
        </div>
      </Card>
    </div>
  )
}
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ Login —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞

---

### –®–∞–≥ 8: –†–æ—É—Ç - –ó–∞–∫–∞–∑—ã (Admin Index)

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/app/routes/admin/index.tsx`

```typescript
import { createFileRoute } from '@tanstack/react-router'
import { useState } from 'react'
import { useOrders } from '@/features/admin/orders/api'
import { OrderStats } from '@/features/admin/orders/OrderStats'
import { Input } from '@/components/ui/input'
import type { AdminOrder } from '@/types/admin'

export const Route = createFileRoute('/admin/')({
  component: OrdersPage,
})

function OrdersPage() {
  const { data, isLoading, error } = useOrders()
  const [searchTerm, setSearchTerm] = useState('')

  if (isLoading) {
    return (
      <div className="flex items-center justify-center h-96">
        <div className="text-center">
          <div className="text-5xl mb-4">‚è≥</div>
          <div className="text-lg text-gray-600">–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤...</div>
        </div>
      </div>
    )
  }

  if (error) {
    return (
      <div className="bg-red-50 text-red-700 p-5 rounded-xl">
        ‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–∫–∞–∑–æ–≤: {error.message}
      </div>
    )
  }

  const orders = data?.orders || []

  // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤
  const filteredOrders = orders.filter((order) => {
    const term = searchTerm.toLowerCase()
    return (
      order.orderNumber.toLowerCase().includes(term) ||
      order.fullName.toLowerCase().includes(term) ||
      order.phone.includes(term) ||
      order.telegramUsername?.toLowerCase().includes(term) ||
      order.deliveryDetails.toLowerCase().includes(term)
    )
  })

  return (
    <div>
      <OrderStats orders={orders} />

      {/* –ü–æ–∏—Å–∫ */}
      <div className="bg-white p-5 rounded-xl shadow-sm mb-6">
        <Input
          type="text"
          placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É –∑–∞–∫–∞–∑–∞, –∏–º–µ–Ω–∏, —Ç–µ–ª–µ—Ñ–æ–Ω—É..."
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
        />
      </div>

      {/* –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤ */}
      <div className="bg-white rounded-xl shadow-sm overflow-hidden">
        <div className="overflow-x-auto">
          <table className="w-full">
            <thead className="bg-blue-500 text-white">
              <tr>
                <th className="px-4 py-3 text-left text-sm font-semibold">‚Ññ –ó–∞–∫–∞–∑–∞</th>
                <th className="px-4 py-3 text-left text-sm font-semibold">–î–∞—Ç–∞</th>
                <th className="px-4 py-3 text-left text-sm font-semibold">–ö–ª–∏–µ–Ω—Ç</th>
                <th className="px-4 py-3 text-left text-sm font-semibold">–¢–µ–ª–µ—Ñ–æ–Ω</th>
                <th className="px-4 py-3 text-left text-sm font-semibold">Telegram</th>
                <th className="px-4 py-3 text-left text-sm font-semibold">–î–æ—Å—Ç–∞–≤–∫–∞</th>
                <th className="px-4 py-3 text-left text-sm font-semibold">–¢–æ–≤–∞—Ä—ã</th>
                <th className="px-4 py-3 text-left text-sm font-semibold">–°—É–º–º–∞</th>
                <th className="px-4 py-3 text-left text-sm font-semibold">–°—Ç–∞—Ç—É—Å</th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-100">
              {filteredOrders.length === 0 ? (
                <tr>
                  <td colSpan={9} className="px-4 py-10 text-center text-gray-500">
                    –ó–∞–∫–∞–∑–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
                  </td>
                </tr>
              ) : (
                filteredOrders.map((order) => <OrderRow key={order.id} order={order} />)
              )}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  )
}

function OrderRow({ order }: { order: AdminOrder }) {
  const date = new Date(order.createdAt).toLocaleString('ru-RU', {
    day: '2-digit',
    month: '2-digit',
    year: 'numeric',
    hour: '2-digit',
    minute: '2-digit',
  })

  const deliveryLabel = order.deliveryType === 'address' ? 'üìç –ê–¥—Ä–µ—Å' : 'üì¶ –ü–í–ó'

  let telegramInfo = '-'
  if (order.telegramUsername) {
    telegramInfo = `@${order.telegramUsername}`
  } else if (order.telegramFirstName || order.telegramLastName) {
    telegramInfo = [order.telegramFirstName, order.telegramLastName].filter(Boolean).join(' ')
  }

  return (
    <tr className="hover:bg-gray-50 transition-colors">
      <td className="px-4 py-3">
        <span className="font-mono font-semibold text-blue-500">{order.orderNumber}</span>
      </td>
      <td className="px-4 py-3 text-sm">{date}</td>
      <td className="px-4 py-3">{order.fullName}</td>
      <td className="px-4 py-3 font-mono text-sm">{order.phone}</td>
      <td className="px-4 py-3 text-sm">
        <div>{telegramInfo}</div>
        {order.telegramId && <div className="text-xs text-gray-500">ID: {order.telegramId}</div>}
      </td>
      <td className="px-4 py-3">
        <div className="inline-block px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded">
          {deliveryLabel}
        </div>
        <div className="text-xs text-gray-600 mt-1">{order.deliveryDetails}</div>
      </td>
      <td className="px-4 py-3 text-sm text-gray-600">
        {order.items.map((item, i) => (
          <div key={i}>
            {item.name} x{item.quantity}
          </div>
        ))}
      </td>
      <td className="px-4 py-3 font-bold text-green-600">
        {order.total.toLocaleString('ru-RU')} ‚ÇΩ
      </td>
      <td className="px-4 py-3">
        <span className="inline-block px-3 py-1 bg-green-500 text-white text-xs font-semibold rounded-full">
          {order.status}
        </span>
      </td>
    </tr>
  )
}
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤ —Å–æ–∑–¥–∞–Ω–∞

---

### –®–∞–≥ 9: –†–æ—É—Ç - –¢–æ–≤–∞—Ä—ã (—Ç—Ä–µ–±—É–µ—Ç —Ñ–æ—Ä–º—É)

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/features/admin/products/ProductForm.tsx`

```typescript
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import { z } from 'zod'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'
import type { ProductFormData, AdminProduct } from '@/types/admin'

const productSchema = z.object({
  name: z.string().min(1, '–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ'),
  category_id: z.number().min(1, '–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é'),
  price: z.number().min(1, '–í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É'),
  image: z.string().url('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL'),
  description: z.string().min(1, '–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ'),
})

interface ProductFormProps {
  product?: AdminProduct
  categories: Array<{ id: number; name: string; icon: string }>
  onSubmit: (data: ProductFormData) => Promise<void>
  onCancel: () => void
  isSubmitting?: boolean
}

export function ProductForm({ product, categories, onSubmit, onCancel, isSubmitting }: ProductFormProps) {
  const {
    register,
    handleSubmit,
    formState: { errors },
  } = useForm<ProductFormData>({
    resolver: zodResolver(productSchema),
    defaultValues: product
      ? {
          name: product.name,
          category_id: product.category_id,
          price: product.price,
          image: product.image,
          description: product.description,
        }
      : undefined,
  })

  return (
    <form onSubmit={handleSubmit(onSubmit)} className="space-y-5">
      <div>
        <label className="block text-sm font-semibold mb-2">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ *</label>
        <Input {...register('name')} className={errors.name ? 'border-red-500' : ''} />
        {errors.name && <p className="text-red-500 text-sm mt-1">{errors.name.message}</p>}
      </div>

      <div>
        <label className="block text-sm font-semibold mb-2">–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
        <select
          {...register('category_id', { valueAsNumber: true })}
          className={`w-full px-3 py-2 border rounded-lg ${errors.category_id ? 'border-red-500' : 'border-gray-300'}`}
        >
          <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
          {categories.map((cat) => (
            <option key={cat.id} value={cat.id}>
              {cat.icon} {cat.name}
            </option>
          ))}
        </select>
        {errors.category_id && <p className="text-red-500 text-sm mt-1">{errors.category_id.message}</p>}
      </div>

      <div>
        <label className="block text-sm font-semibold mb-2">–¶–µ–Ω–∞ (‚ÇΩ) *</label>
        <Input
          {...register('price', { valueAsNumber: true })}
          type="number"
          min="0"
          step="1"
          className={errors.price ? 'border-red-500' : ''}
        />
        {errors.price && <p className="text-red-500 text-sm mt-1">{errors.price.message}</p>}
      </div>

      <div>
        <label className="block text-sm font-semibold mb-2">URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è *</label>
        <Input
          {...register('image')}
          type="url"
          placeholder="https://example.com/image.jpg"
          className={errors.image ? 'border-red-500' : ''}
        />
        {errors.image && <p className="text-red-500 text-sm mt-1">{errors.image.message}</p>}
      </div>

      <div>
        <label className="block text-sm font-semibold mb-2">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
        <textarea
          {...register('description')}
          rows={4}
          className={`w-full px-3 py-2 border rounded-lg resize-y ${
            errors.description ? 'border-red-500' : 'border-gray-300'
          }`}
        />
        {errors.description && <p className="text-red-500 text-sm mt-1">{errors.description.message}</p>}
      </div>

      <div className="flex gap-3 justify-end pt-4">
        <Button type="button" onClick={onCancel} variant="outline">
          –û—Ç–º–µ–Ω–∞
        </Button>
        <Button type="submit" disabled={isSubmitting}>
          {isSubmitting ? '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å'}
        </Button>
      </div>
    </form>
  )
}
```

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/app/routes/admin/products.tsx`

```typescript
import { createFileRoute } from '@tanstack/react-router'
import { useState } from 'react'
import {
  useAdminProducts,
  useCreateProduct,
  useUpdateProduct,
  useDeleteProduct,
} from '@/features/admin/products/api'
import { useAdminCategories } from '@/features/admin/categories/api'
import { ProductForm } from '@/features/admin/products/ProductForm'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'
import { Card } from '@/components/ui/card'
import type { AdminProduct, ProductFormData } from '@/types/admin'

export const Route = createFileRoute('/admin/products')({
  component: ProductsPage,
})

function ProductsPage() {
  const { data: products, isLoading } = useAdminProducts()
  const { data: categories } = useAdminCategories()
  const [searchTerm, setSearchTerm] = useState('')
  const [categoryFilter, setCategoryFilter] = useState<number | ''>('')
  const [modalOpen, setModalOpen] = useState(false)
  const [editingProduct, setEditingProduct] = useState<AdminProduct | null>(null)

  const createProduct = useCreateProduct()
  const updateProduct = useUpdateProduct()
  const deleteProduct = useDeleteProduct()

  const handleSubmit = async (data: ProductFormData) => {
    try {
      if (editingProduct) {
        await updateProduct.mutateAsync({ id: editingProduct.id, product: data })
      } else {
        await createProduct.mutateAsync(data)
      }
      setModalOpen(false)
      setEditingProduct(null)
    } catch (error) {
      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞')
    }
  }

  const handleDelete = async (product: AdminProduct) => {
    if (!confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä "${product.name}"?`)) return

    try {
      await deleteProduct.mutateAsync(product.id)
    } catch (error) {
      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞')
    }
  }

  if (isLoading) {
    return <div className="text-center py-20">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...</div>
  }

  const filteredProducts = (products || []).filter((p) => {
    const matchesSearch =
      p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
      p.description.toLowerCase().includes(searchTerm.toLowerCase())
    const matchesCategory = !categoryFilter || p.category_id === categoryFilter
    return matchesSearch && matchesCategory
  })

  return (
    <div>
      {/* –§–∏–ª—å—Ç—Ä—ã */}
      <div className="bg-white p-5 rounded-xl shadow-sm mb-6 flex gap-4">
        <Input
          type="text"
          placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..."
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
          className="flex-1"
        />
        <select
          value={categoryFilter}
          onChange={(e) => setCategoryFilter(e.target.value ? Number(e.target.value) : '')}
          className="px-3 py-2 border border-gray-300 rounded-lg min-w-[200px]"
        >
          <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
          {categories?.map((cat) => (
            <option key={cat.id} value={cat.id}>
              {cat.icon} {cat.name}
            </option>
          ))}
        </select>
        <Button
          onClick={() => {
            setEditingProduct(null)
            setModalOpen(true)
          }}
        >
          + –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
        </Button>
      </div>

      {/* Grid —Ç–æ–≤–∞—Ä–æ–≤ */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5">
        {filteredProducts.map((product) => (
          <Card key={product.id} className="overflow-hidden hover:shadow-lg transition-shadow">
            <img
              src={product.image}
              alt={product.name}
              className="w-full h-48 object-cover"
              onError={(e) => {
                e.currentTarget.src = 'https://via.placeholder.com/280x200?text=No+Image'
              }}
            />
            <div className="p-4">
              <div className="text-xs text-blue-600 bg-blue-50 inline-block px-2 py-1 rounded mb-2">
                {product.category_icon} {product.category_name}
              </div>
              <h3 className="font-semibold text-lg mb-2 line-clamp-2">{product.name}</h3>
              <p className="text-sm text-gray-600 mb-3 line-clamp-2">{product.description}</p>
              <div className="text-2xl font-bold text-green-600 mb-3">
                {product.price.toLocaleString('ru-RU')} ‚ÇΩ
              </div>
              <div className="flex gap-2">
                <Button
                  size="sm"
                  variant="outline"
                  onClick={() => {
                    setEditingProduct(product)
                    setModalOpen(true)
                  }}
                  className="flex-1"
                >
                  ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å
                </Button>
                <Button size="sm" variant="outline" onClick={() => handleDelete(product)} className="flex-1">
                  üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                </Button>
              </div>
            </div>
          </Card>
        ))}
      </div>

      {/* Modal */}
      {modalOpen && (
        <div className="fixed inset-0 bg-black/50 flex items-center justify-center p-5 z-50">
          <Card className="max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto">
            <h2 className="text-2xl font-bold mb-6">
              {editingProduct ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä' : '–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä'}
            </h2>
            <ProductForm
              product={editingProduct || undefined}
              categories={categories || []}
              onSubmit={handleSubmit}
              onCancel={() => {
                setModalOpen(false)
                setEditingProduct(null)
              }}
              isSubmitting={createProduct.isPending || updateProduct.isPending}
            />
          </Card>
        </div>
      )}
    </div>
  )
}
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å–æ–∑–¥–∞–Ω–∞

---

### –®–∞–≥ 10: –†–æ—É—Ç - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `src/app/routes/admin/categories.tsx`

```typescript
import { createFileRoute } from '@tanstack/react-router'
import { useState } from 'react'
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import { z } from 'zod'
import {
  useAdminCategories,
  useCreateCategory,
  useUpdateCategory,
  useDeleteCategory,
} from '@/features/admin/categories/api'
import { useAdminProducts } from '@/features/admin/products/api'
import { EmojiPicker } from '@/features/admin/categories/EmojiPicker'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'
import { Card } from '@/components/ui/card'
import type { AdminCategory, CategoryFormData } from '@/types/admin'

const categorySchema = z.object({
  name: z.string().min(1, '–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ'),
  icon: z.string().min(1, '–í—ã–±–µ—Ä–∏—Ç–µ –∏–∫–æ–Ω–∫—É'),
})

export const Route = createFileRoute('/admin/categories')({
  component: CategoriesPage,
})

function CategoriesPage() {
  const { data: categories, isLoading } = useAdminCategories()
  const { data: products } = useAdminProducts()
  const [modalOpen, setModalOpen] = useState(false)
  const [editingCategory, setEditingCategory] = useState<AdminCategory | null>(null)

  const createCategory = useCreateCategory()
  const updateCategory = useUpdateCategory()
  const deleteCategory = useDeleteCategory()

  const {
    register,
    handleSubmit,
    setValue,
    watch,
    reset,
    formState: { errors },
  } = useForm<CategoryFormData>({
    resolver: zodResolver(categorySchema),
    defaultValues: editingCategory || { name: '', icon: '' },
  })

  const selectedIcon = watch('icon')

  const onSubmit = async (data: CategoryFormData) => {
    try {
      if (editingCategory) {
        await updateCategory.mutateAsync({ id: editingCategory.id, category: data })
      } else {
        await createCategory.mutateAsync(data)
      }
      setModalOpen(false)
      setEditingCategory(null)
      reset()
    } catch (error) {
      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏')
    }
  }

  const handleDelete = async (category: AdminCategory) => {
    const count = products?.filter((p) => p.category_id === category.id).length || 0
    if (count > 0) {
      alert(
        `–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é "${category.name}"!\n\n–í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–≤–∞—Ä–æ–≤: ${count}\n\n–°–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª–∏—Ç–µ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.`
      )
      return
    }

    if (!confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é "${category.name}"?`)) return

    try {
      await deleteCategory.mutateAsync(category.id)
    } catch (error) {
      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏')
    }
  }

  const openModal = (category?: AdminCategory) => {
    if (category) {
      setEditingCategory(category)
      reset(category)
    } else {
      setEditingCategory(null)
      reset({ name: '', icon: '' })
    }
    setModalOpen(true)
  }

  if (isLoading) {
    return <div className="text-center py-20">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π...</div>
  }

  return (
    <div>
      <div className="flex justify-end mb-6">
        <Button onClick={() => openModal()}>+ –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</Button>
      </div>

      {/* Grid –∫–∞—Ç–µ–≥–æ—Ä–∏–π */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5">
        {categories?.map((category) => {
          const count = products?.filter((p) => p.category_id === category.id).length || 0
          return (
            <Card key={category.id} className="p-6 text-center hover:shadow-lg transition-shadow">
              <div className="text-5xl mb-3">{category.icon}</div>
              <h3 className="text-xl font-semibold mb-2">{category.name}</h3>
              <div className="text-sm text-gray-600 mb-4">–¢–æ–≤–∞—Ä–æ–≤: {count}</div>
              <div className="flex gap-2">
                <Button size="sm" variant="outline" onClick={() => openModal(category)} className="flex-1">
                  ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å
                </Button>
                <Button size="sm" variant="outline" onClick={() => handleDelete(category)} className="flex-1">
                  üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                </Button>
              </div>
            </Card>
          )
        })}
      </div>

      {/* Modal */}
      {modalOpen && (
        <div className="fixed inset-0 bg-black/50 flex items-center justify-center p-5 z-50">
          <Card className="max-w-lg w-full p-6">
            <h2 className="text-2xl font-bold mb-6">
              {editingCategory ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é' : '–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é'}
            </h2>
            <form onSubmit={handleSubmit(onSubmit)} className="space-y-5">
              <div>
                <label className="block text-sm font-semibold mb-2">–ò–∫–æ–Ω–∫–∞ (—ç–º–æ–¥–∑–∏) *</label>
                <EmojiPicker selected={selectedIcon} onSelect={(emoji) => setValue('icon', emoji)} />
                <Input {...register('icon')} readOnly className={`mt-2 ${errors.icon ? 'border-red-500' : ''}`} />
                {errors.icon && <p className="text-red-500 text-sm mt-1">{errors.icon.message}</p>}
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ *</label>
                <Input
                  {...register('name')}
                  placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–≤—Ç–æ—Ü–≤–µ—Ç—ã"
                  className={errors.name ? 'border-red-500' : ''}
                />
                {errors.name && <p className="text-red-500 text-sm mt-1">{errors.name.message}</p>}
              </div>

              <div className="flex gap-3 justify-end pt-4">
                <Button
                  type="button"
                  onClick={() => {
                    setModalOpen(false)
                    setEditingCategory(null)
                    reset()
                  }}
                  variant="outline"
                >
                  –û—Ç–º–µ–Ω–∞
                </Button>
                <Button type="submit" disabled={createCategory.isPending || updateCategory.isPending}>
                  {createCategory.isPending || updateCategory.isPending ? '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å'}
                </Button>
              </div>
            </form>
          </Card>
        </div>
      )}
    </div>
  )
}
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω–∞

---

### –®–∞–≥ 11: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö HTML —Ñ–∞–π–ª–æ–≤

**–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```bash
cd /home/user/seed
rm public/login.html
rm public/admin.html
rm public/products.html
rm public/categories.html
```

**–ò–ª–∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∞—Ä—Ö–∏–≤:**
```bash
mkdir -p public/__old_admin__
mv public/*.html public/__old_admin__/
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –°—Ç–∞—Ä—ã–µ HTML —Ñ–∞–π–ª—ã —É–¥–∞–ª–µ–Ω—ã –∏–ª–∏ –∑–∞–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω—ã

---

### –®–∞–≥ 12: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
npm run dev
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
1. ‚úÖ `/admin/login` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ –í—Ö–æ–¥ —Å admin/seed2025 —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/admin` –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
4. ‚úÖ –¢–∞–π–º–µ—Ä —Å–µ—Å—Å–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
5. ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
6. ‚úÖ –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
7. ‚úÖ –ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
8. ‚úÖ CRUD —Ç–æ–≤–∞—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
9. ‚úÖ CRUD –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
10. ‚úÖ –í—ã—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
11. ‚úÖ –ê–≤—Ç–æ–≤—ã—Ö–æ–¥ –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏—é —Ç–æ–∫–µ–Ω–∞
12. ‚úÖ –ó–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ login)

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å TypeScript:**
```bash
npx tsc --noEmit
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É:**
```bash
npm run build
```

---

### –®–∞–≥ 13: –ö–æ–º–º–∏—Ç –∏ –¥–µ–ø–ª–æ–π

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
git add .
git commit -m "Migrate admin panel to React + TypeScript

- Integrate admin panel into main React app
- Add admin routes: /admin/login, /admin, /admin/products, /admin/categories
- Implement JWT auth with Zustand store
- Add protected routes with middleware
- Add TanStack Query for all admin API calls
- Add React Hook Form + Zod for forms
- Add session timer and auto-logout
- Migrate all admin HTML pages to React components
- Remove old HTML admin files

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>"

git push
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã
- ‚úÖ GitHub Actions –∑–∞–ø—É—â–µ–Ω
- ‚úÖ –î–µ–ø–ª–æ–π –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ production

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º:
- [ ] –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (MIGRATION_PLAN.md) –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- [ ] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] TypeScript –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### –í–æ –≤—Ä–µ–º—è:
- [ ] –¢–∏–ø—ã –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ —Å–æ–∑–¥–∞–Ω—ã
- [ ] Auth store —Å Zustand —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] API —Å–ª–æ–π —Å TanStack Query —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [ ] Admin layout —Å middleware —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ —Ä–æ—É—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –§–æ—Ä–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –°—Ç–∞—Ä—ã–µ HTML —Ñ–∞–π–ª—ã —É–¥–∞–ª–µ–Ω—ã

### –ü–æ—Å–ª–µ:
- [ ] `npm run dev` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] `npx tsc --noEmit` –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] `npm run build` —É—Å–ø–µ—à–µ–Ω
- [ ] –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω–∫—É —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –¢–∞–π–º–µ—Ä —Å–µ—Å—Å–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ê–≤—Ç–æ–≤—ã—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ó–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –î–µ–ø–ª–æ–π –Ω–∞ production –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ

---

## üö® –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ü–æ—Ä—è–¥–æ–∫ –º–∏–≥—Ä–∞—Ü–∏–∏:** –°–Ω–∞—á–∞–ª–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (MIGRATION_PLAN.md), –ø–æ—Ç–æ–º –∞–¥–º–∏–Ω–∫–∞
2. **Backend –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è:** –í—Å–µ API endpoints –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏
3. **–†–æ—É—Ç—ã –∞–¥–º–∏–Ω–∫–∏:** `/admin/login`, `/admin`, `/admin/products`, `/admin/categories`
4. **–î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ:** –ß–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ù–ï –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
5. **–°–µ—Å—Å–∏—è:** 1 —á–∞—Å —Å –∞–≤—Ç–æ–≤—ã—Ö–æ–¥–æ–º –ø–æ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
6. **–ó–∞—â–∏—Ç–∞:** Middleware –ø—Ä–æ–≤–µ—Ä—è–µ—Ç JWT —Ç–æ–∫–µ–Ω –Ω–∞ –∫–∞–∂–¥–æ–º —Ä–æ—É—Ç–µ

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **React Hook Form:** https://react-hook-form.com/
- **Zod:** https://zod.dev/
- **TanStack Router Protected Routes:** https://tanstack.com/router/latest/docs/guide/navigation
- **Zustand Persist:** https://docs.pmnd.rs/zustand/integrations/persisting-store-data

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

‚úÖ –ê–¥–º–∏–Ω–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚úÖ –ï–¥–∏–Ω–∞—è –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ –∞–¥–º–∏–Ω–∫–∏
‚úÖ Type-safe —Ä–æ—É—Ç–∏–Ω–≥ –∏ API
‚úÖ –§–æ—Ä–º—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã —Å middleware
‚úÖ –¢–∞–π–º–µ—Ä —Å–µ—Å—Å–∏–∏ –∏ –∞–≤—Ç–æ–≤—ã—Ö–æ–¥
‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI –Ω–∞ Tailwind CSS
‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å backend
‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–π –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 1-2 –¥–Ω—è (–ø–æ—Å–ª–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏)
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
**–†–∏—Å–∫–∏:** –ù–∏–∑–∫–∏–µ (–º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è)
